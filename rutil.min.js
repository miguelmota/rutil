/*! rutil 06-06-2014 */

!function(a){var b=function(){"use strict";function a(a){return null!=a}function b(a){return a}function c(a){return!b(a)}function d(a){return"[object Array]"===Object.prototype.toString.call(a)}function e(a){return"string"==typeof a}function f(a){return"number"==typeof a}function g(a){return"function"==typeof a}function h(a){return"boolean"==typeof a}function i(a,b){var c="[object Object]"===Object.prototype.toString.call(a);return b&&(c="object"==typeof a),c}function j(b){return a(b)?d(b)?0===b.length:i(b)?0===Object.keys(b).length:e(b)?0===b.length:!1:!0}function k(a,b){var c;for(c in a)a.hasOwnProperty(c)&&b(a[c],c)}function l(){}function m(a){return"function"==typeof a?a:function(){return a}}function n(a,b){return g(a[b])?a[b]():a[b]}function o(a,b){return a[b]}function p(a){return o(v(a),0)}function q(a){var b=v(a);return o(b,z(b)-1)}function r(a){var b=v(a);return b.shift(),b}function s(a){return d(a)||e(a)}function t(a,b){var c,d={};for(c in a)d[c]=a[c];for(c in b)d[c]=b[c];return d}function u(a,b){var c=function(a,b){var e=[];for(var f in a){var g=b?b+"["+f+"]":f,h=a[f];if(void 0!==h&&null!==h){var j;i(h)?(j=c(h,g),e.push(j)):d(h)?h.forEach(function(a){j=encodeURIComponent(g)+"="+encodeURIComponent(a),e.push(j)}):(j=encodeURIComponent(g)+"="+encodeURIComponent(h),e.push(j))}}return e.join("&")};return c(a,b)}function v(a){return[].slice.call(a)}function w(a){return[].concat.apply([],Array.isArray(a)?a.map(function(a){return Array.isArray(a)?w(a):a}):[a])}function x(a){return function(b){return a[b]}}function y(){return ob(w([].slice.call(arguments)),function(a,b){return a+=b},0)}function z(a){return d(a)?a.length:i(a)?Object.keys(a).length:a.length}function A(a){var b=ob(a,function(a,b){return a+b});return b/z(a)}function B(a){return parseInt(a,10)}function C(a){return""+a}function D(a){return a}function E(a){return k(a,function(b,c){j(b)&&delete a[c]}),a}function F(a){return function(b,c){return a(b,c)?-1:a(c,b)?1:0}}function G(a){return function(){return!a.apply(null,v(arguments))}}function H(a,c){return b(a)?c():void 0}function I(b,c){return H(a(b[c]),function(){var a=a(b,c);return a})}function J(a,b){var c=document.createElement("img");c.style.visibility="hidden",c.style.width="0px",c.style.height="0px",c.src=a,c.onload=function(){c.src="",b&&b(null,a)},c.onerror=function(c){b&&b(c,a)},document.body.appendChild(c)}function K(a){var b;try{var c=window.location.search.substr(1);a&&(c=a.split("?")[1]);var d=c.split("&");if(d[0]){b=[];for(var e=0;e<d.length;e++){var f=d[e].split("=");b[f[0]]=f[1]}}}catch(g){}return b}function L(a,b,c){var d=new RegExp("([?|&])"+b+"=.*?(&|#|$)","i"),e=-1!==a.indexOf("?")?"&":"?";return d.test(a)?a.replace(d,"$1"+b+"="+c+"$2"):a+e+b+"="+c}function M(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16)})}function N(a,b){var c,d=[];for(a=a||32,b=b||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=0;a>c;c++)d.push(b.charAt(Math.floor(Math.random()*b.length)));return d.join("")}function O(a){var b=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;a=a.replace(b,function(a,b,c,d){return b+b+c+c+d+d});var c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return c?{r:parseInt(c[1],16),g:parseInt(c[2],16),b:parseInt(c[3],16)}:null}function P(a,b){for(var c=[],d=a,e=function(a){var b=new Date(this.valueOf());return b.setDate(b.getDate()+a),b};b>=d;)c.push(d),d=e.call(d,1);return c}function Q(a,b,c){return c.valueOf()>=a.valueOf()&&c.valueOf()<=b.valueOf()?!0:!1}function R(a){a=a||"";var b="";switch(a.toLowerCase()){case"android":b=new RegExp("Android","i");break;case"webos":b=new RegExp("webOS","i");break;case"iphone":b=new RegExp("iPhone","i");break;case"ipad":b=new RegExp("iPad","i");break;case"ios":b=new RegExp("(iPhone|iPad)","i");break;case"ios7":b=new RegExp("(iPad|iPhone);.*CPU.*OS 7_\\d","i");break;case"blackberry":b=new RegExp("BlackBerry","i");break;case"ie":b=new RegExp("IEMobile","i");break;case"opera":b=new RegExp("Opera Mini","i");break;default:b=new RegExp("(Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini)","i")}return b.test(navigator.userAgent)}function S(a){for(var b=(new Date).getTime();(new Date).getTime()<b+a;);}function T(a,b){return a.replace(/[#]+[A-Za-z0-9-_]+/g,function(a){var c=b,d=a.replace("#","%23");return c=c.replace(/\{\{\w+\}\}/g,d),a.link(c)})}function U(a,b){return a.replace(/[@]+[A-Za-z0-9-_]+/g,function(a){var c=b,d=a.replace("@","");return c=c.replace(/\{\{\w+\}\}/g,d),a.link(c)})}function V(a){return a.replace(/[A-Za-z]+:\/\/[A-Za-z0-9-_]+\.[A-Za-z0-9-_:%&~\?\/.=]+/g,function(a){return a.link(a)})}function W(a){return a?a.replace(/(<([^>]+)>)/gi,""):a}function X(a){return a?a.toString().replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3"):a}function Y(a){var b=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return a?b.test(a):!1}function Z(a,b){var c=new Date(a.getFullYear()+b,a.getMonth(),a.getDate()).setMonth(a.getMonth()-1);return c<=new Date}function $(a){var b=/(^\d{5}$)|(^\d{5}-\d{4}$)/;return b.test(a)}function _(a){var b=/^[a-zA-Z0-9_]+$/;return b.test(a)}function ab(a){var b=/^[a-zA-Z-' ]*$/;return b.test(a)}function bb(a){return f(a)?/^(\-?\d+(\.\d+)?)$/.test(a):!1}function cb(a){if(!a)return a;var b=a.toString().split(".");return b[0]=b[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),b.join(".")}function db(a){switch(a?a.toLowerCase():""){case"true":case"yes":case"on":case"1":return!0;default:return!1}}function eb(a){a.setMonth(a.getMonth()-1);var b=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["January","February","March","April","May","June","July","August","September","October","November","December"];return b[a.getDay()]+" "+c[a.getMonth()]+" "+a.getDate()+", "+a.getFullYear()}function fb(a){for(var b,c,d=[].slice.call(a)||[],e=d.length;0!==e;)c=Math.floor(Math.random()*e),e-=1,b=d[e],d[e]=d[c],d[c]=b;return d}function gb(a,b){var c=[].slice.call(arguments);if(0===c.length)throw new Error("Need at least one argument");return"undefined"==typeof b&&(a=0,b=c[0]),Math.floor(Math.random()*(b-a+1))+a}function hb(a,b){return b=b||2,Array(b+1).join(a)}function ib(a){return(10>a?"0":"")+a}function jb(a,b){return(b?a.toLowerCase():a).replace(/(?:^|\s)\S/g,function(a){return a.toUpperCase()})}function kb(a,b){return a.every(b)}function lb(a,b){return a.some(b)}function mb(a,b){return a.map(b)}function nb(a,b){return a.filter(b)}function ob(a,b){return a.reduce(b)}function pb(a,c,d){return kb(a,b)?(m(c)(),!0):(m(d)(),!1)}function qb(a,b,c){return a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):void 0}function rb(){return document.createTextNode.bind(document)()}function sb(a){return function(b){var c=document.createElement(a);return c.appendChild(b),c}}function tb(a,b){return a.appendChild(b),a}function ub(a,b){return new RegExp(" "+b+" ").test(" "+a.className+" ")}function vb(a,b){ub(a,b)||(a.className+=" "+b)}function wb(a,b){var c=" "+a.className.replace(/[\t\r\n]/g," ")+" ";if(ub(a,b)){for(;c.indexOf(" "+b+" ")>=0;)c=c.replace(" "+b+" "," ");a.className=c.replace(/^\s+|\s+$/g,"")}}function xb(a,b){return b="object"==typeof b?b:{},k(b,function(b,c){a.setAttribute(b,c)}),a}function yb(a,b){var c=document.createElement("link");xb(c,{href:a,type:"text/css",rel:"stylesheet"}),b&&qb(c,"load",b),tb(document.getElementsByTagName("head")[0],c)}function zb(a){var b=Db("script",{src:a,type:"script/javascript"});tb(document.getElementsByTagName("head")[0],b)}function Ab(a){return a.parentElement.removeChild(a)}function Bb(a){var b=Db("div"),c=tb(b,a).innerHTML;return Ab(b),c}function Cb(a){return document.getElementById(a)}function Db(a,b){var c=document.createElement(a);return xb(c,b),c}function Eb(a,c){var d=document.createElement("a");return d.href=a,i(c)?xb(d,c):b(c)&&(d.target="_blank"),d}function Fb(a,b){var c=document.createElement("img");return c.src=a,i(b)?xb(el,b):c.alt=b||"",c}var Gb={},Hb=function(a){var b={};for(var c in Gb)if(Gb.hasOwnProperty(c)){var d="undefined"!==Hb&&Hb[c];if(!a&&d)return;b[c]=Gb[c]}return delete b.rutil,delete b.validate,delete b._,b};return Gb.isTruthy=b,Gb.isFalsy=c,Gb.isArray=d,Gb.isString=e,Gb.isNumber=f,Gb.isObject=i,Gb.isBoolean=Gb.isBool=h,Gb.isFunction=g,Gb.isEmpty=j,Gb.isExisty=a,Gb.toBoolean=Gb.toBool=Gb.bool=db,Gb.toInt=Gb.int=B,Gb.toString=Gb.string=C,Gb.identity=D,Gb.merge=t,Gb.prop=Gb.property=x,Gb.serialize=u,Gb.hexToRgb=O,Gb.sleep=S,Gb.shuffle=fb,Gb.flatten=Gb.flat=w,Gb.nth=o,Gb.first=p,Gb.last=q,Gb.rest=r,Gb.isIndexed=s,Gb.reduce=ob,Gb.map=mb,Gb.filter=nb,Gb.some=lb,Gb.every=kb,Gb.size=z,Gb.toArray=v,Gb.random=gb,Gb.sum=y,Gb.average=Gb.avg=A,Gb.forOwn=k,Gb.compactObject=E,Gb.result=n,Gb.executeIfHasField=I,Gb.functor=m,Gb.noop=l,Gb.comparator=F,Gb.preCondition=Gb.preCond=pb,Gb.doWhen=H,Gb.complement=G,Gb.getDatesInbetween=P,Gb.isDateInRange=Q,Gb.addCommas=cb,Gb.prettyDate=eb,Gb.repeat=hb,Gb.pad=ib,Gb.capitalize=jb,Gb.formatPhone=X,Gb.generateUUID=M,Gb.generateRandomString=N,Gb.validate={email:Y,minAge:Z,zip:$},Gb.isValidEmail=Y,Gb.isValidMinAge=Z,Gb.isValidZip=$,Gb.isValidUsername=_,Gb.isValidName=ab,Gb.isValidCoordinate=Gb.isValidCoord=bb,Gb.addEvent=qb,Gb.createPixel=J,Gb.createElement=Db,Gb.textNode=rb,Gb.image=Gb.imageElement=Fb,Gb.anchor=Gb.anchorElement=Eb,Gb.remove=Ab,Gb.getParams=K,Gb.setQueryStringParam=L,Gb.parseHashtag=T,Gb.parseUsername=U,Gb.parseUrl=V,Gb.isMobileDevice=R,Gb.stripTags=W,Gb.wrap=sb,Gb.append=tb,Gb.elementById=Cb,Gb.hasClass=ub,Gb.addClass=vb,Gb.removeClass=wb,Gb.setAttributes=xb,Gb.appendStylesheet=yb,Gb.appendScript=zb,Gb.htmlContents=Bb,Gb._=Hb,Gb}();"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=b),exports.rutil=b):"function"==typeof define&&define.amd?define([],function(){return b}):a.rutil=b}(this);
//# sourceMappingURL=rutil.min.map